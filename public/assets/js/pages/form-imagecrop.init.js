/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./resources/js/pages/form-imagecrop.init.js":
/*!***************************************************!*\
  !*** ./resources/js/pages/form-imagecrop.init.js ***!
  \***************************************************/
/***/ (() => {

eval("/*\nTemplate Name: Ubold - Responsive Bootstrap 4 Admin Dashboard\nAuthor: CoderThemes\nWebsite: https://coderthemes.com/\nContact: support@coderthemes.com\nFile: Image crop init js\n*/\n$(function () {\n  'use strict';\n\n  var console = window.console || {\n    log: function log() {}\n  };\n  var URL = window.URL || window.webkitURL;\n  var $image = $('#image');\n  var $download = $('#download');\n  var $dataX = $('#dataX');\n  var $dataY = $('#dataY');\n  var $dataHeight = $('#dataHeight');\n  var $dataWidth = $('#dataWidth');\n  var $dataRotate = $('#dataRotate');\n  var $dataScaleX = $('#dataScaleX');\n  var $dataScaleY = $('#dataScaleY');\n  var options = {\n    aspectRatio: 16 / 9,\n    preview: '.img-preview',\n    crop: function crop(e) {\n      $dataX.val(Math.round(e.detail.x));\n      $dataY.val(Math.round(e.detail.y));\n      $dataHeight.val(Math.round(e.detail.height));\n      $dataWidth.val(Math.round(e.detail.width));\n      $dataRotate.val(e.detail.rotate);\n      $dataScaleX.val(e.detail.scaleX);\n      $dataScaleY.val(e.detail.scaleY);\n    }\n  };\n  var originalImageURL = $image.attr('src');\n  var uploadedImageName = 'cropped.jpg';\n  var uploadedImageType = 'image/jpeg';\n  var uploadedImageURL; // Tooltip\n\n  $('[data-bs-toggle=\"tooltip\"]').tooltip(); // Cropper\n\n  $image.on({\n    ready: function ready(e) {\n      console.log(e.type);\n    },\n    cropstart: function cropstart(e) {\n      console.log(e.type, e.detail.action);\n    },\n    cropmove: function cropmove(e) {\n      console.log(e.type, e.detail.action);\n    },\n    cropend: function cropend(e) {\n      console.log(e.type, e.detail.action);\n    },\n    crop: function crop(e) {\n      console.log(e.type);\n    },\n    zoom: function zoom(e) {\n      console.log(e.type, e.detail.ratio);\n    }\n  }).cropper(options); // Buttons\n\n  if (!$.isFunction(document.createElement('canvas').getContext)) {\n    $('button[data-method=\"getCroppedCanvas\"]').prop('disabled', true);\n  }\n\n  if (typeof document.createElement('cropper').style.transition === 'undefined') {\n    $('button[data-method=\"rotate\"]').prop('disabled', true);\n    $('button[data-method=\"scale\"]').prop('disabled', true);\n  } // Download\n\n\n  if (typeof $download[0].download === 'undefined') {\n    $download.addClass('disabled');\n  } // Options\n\n\n  $('.docs-toggles').on('change', 'input', function () {\n    var $this = $(this);\n    var name = $this.attr('name');\n    var type = $this.prop('type');\n    var cropBoxData;\n    var canvasData;\n\n    if (!$image.data('cropper')) {\n      return;\n    }\n\n    if (type == 'checkbox') {\n      options[name] = $this.prop('checked');\n      cropBoxData = $image.cropper('getCropBoxData');\n      canvasData = $image.cropper('getCanvasData');\n\n      options.ready = function () {\n        $image.cropper('setCropBoxData', cropBoxData);\n        $image.cropper('setCanvasData', canvasData);\n      };\n    } else if (type == 'radio') {\n      options[name] = $this.val();\n    }\n\n    $image.cropper('destroy').cropper(options);\n  }); // Methods\n\n  $('.docs-buttons').on('click', '[data-method]', function () {\n    var $this = $(this);\n    var data = $this.data();\n    var cropper = $image.data('cropper');\n    var cropped;\n    var $target;\n    var result;\n\n    if ($this.prop('disabled') || $this.hasClass('disabled')) {\n      return;\n    }\n\n    if (cropper && data.method) {\n      data = $.extend({}, data); // Clone a new one\n\n      if (typeof data.target !== 'undefined') {\n        $target = $(data.target);\n\n        if (typeof data.option === 'undefined') {\n          try {\n            data.option = JSON.parse($target.val());\n          } catch (e) {\n            console.log(e.message);\n          }\n        }\n      }\n\n      cropped = cropper.cropped;\n\n      switch (data.method) {\n        case 'rotate':\n          if (cropped && options.viewMode > 0) {\n            $image.cropper('clear');\n          }\n\n          break;\n\n        case 'getCroppedCanvas':\n          if (uploadedImageType === 'image/jpeg') {\n            if (!data.option) {\n              data.option = {};\n            }\n\n            data.option.fillColor = '#fff';\n          }\n\n          break;\n      }\n\n      result = $image.cropper(data.method, data.option, data.secondOption);\n\n      switch (data.method) {\n        case 'rotate':\n          if (cropped && options.viewMode > 0) {\n            $image.cropper('crop');\n          }\n\n          break;\n\n        case 'scaleX':\n        case 'scaleY':\n          $(this).data('option', -data.option);\n          break;\n\n        case 'getCroppedCanvas':\n          if (result) {\n            // Bootstrap's Modal\n            $('#getCroppedCanvasModal').modal().find('.modal-body').html(result);\n\n            if (!$download.hasClass('disabled')) {\n              download.download = uploadedImageName;\n              $download.attr('href', result.toDataURL(uploadedImageType));\n            }\n          }\n\n          break;\n\n        case 'destroy':\n          if (uploadedImageURL) {\n            URL.revokeObjectURL(uploadedImageURL);\n            uploadedImageURL = '';\n            $image.attr('src', originalImageURL);\n          }\n\n          break;\n      }\n\n      if ($.isPlainObject(result) && $target) {\n        try {\n          $target.val(JSON.stringify(result));\n        } catch (e) {\n          console.log(e.message);\n        }\n      }\n    }\n  }); // Keyboard\n\n  $(document.body).on('keydown', function (e) {\n    if (e.target !== this || !$image.data('cropper') || this.scrollTop > 300) {\n      return;\n    }\n\n    switch (e.which) {\n      case 37:\n        e.preventDefault();\n        $image.cropper('move', -1, 0);\n        break;\n\n      case 38:\n        e.preventDefault();\n        $image.cropper('move', 0, -1);\n        break;\n\n      case 39:\n        e.preventDefault();\n        $image.cropper('move', 1, 0);\n        break;\n\n      case 40:\n        e.preventDefault();\n        $image.cropper('move', 0, 1);\n        break;\n    }\n  }); // Import image\n\n  var $inputImage = $('#inputImage');\n\n  if (URL) {\n    $inputImage.change(function () {\n      var files = this.files;\n      var file;\n\n      if (!$image.data('cropper')) {\n        return;\n      }\n\n      if (files && files.length) {\n        file = files[0];\n\n        if (/^image\\/\\w+$/.test(file.type)) {\n          uploadedImageName = file.name;\n          uploadedImageType = file.type;\n\n          if (uploadedImageURL) {\n            URL.revokeObjectURL(uploadedImageURL);\n          }\n\n          uploadedImageURL = URL.createObjectURL(file);\n          $image.cropper('destroy').attr('src', uploadedImageURL).cropper(options);\n          $inputImage.val('');\n        } else {\n          window.alert('Please choose an image file.');\n        }\n      }\n    });\n  } else {\n    $inputImage.prop('disabled', true).parent().addClass('disabled');\n  }\n\n  document.querySelectorAll('.docs-options input').forEach(function (element) {\n    element.click();\n  }); // $('').trigger( \"click\" );\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91Ym9sZC1sYXJhdmVsLy4vcmVzb3VyY2VzL2pzL3BhZ2VzL2Zvcm0taW1hZ2Vjcm9wLmluaXQuanM/MTA3YyJdLCJuYW1lcyI6WyIkIiwiY29uc29sZSIsIndpbmRvdyIsImxvZyIsIlVSTCIsIndlYmtpdFVSTCIsIiRpbWFnZSIsIiRkb3dubG9hZCIsIiRkYXRhWCIsIiRkYXRhWSIsIiRkYXRhSGVpZ2h0IiwiJGRhdGFXaWR0aCIsIiRkYXRhUm90YXRlIiwiJGRhdGFTY2FsZVgiLCIkZGF0YVNjYWxlWSIsIm9wdGlvbnMiLCJhc3BlY3RSYXRpbyIsInByZXZpZXciLCJjcm9wIiwiZSIsInZhbCIsIk1hdGgiLCJyb3VuZCIsImRldGFpbCIsIngiLCJ5IiwiaGVpZ2h0Iiwid2lkdGgiLCJyb3RhdGUiLCJzY2FsZVgiLCJzY2FsZVkiLCJvcmlnaW5hbEltYWdlVVJMIiwiYXR0ciIsInVwbG9hZGVkSW1hZ2VOYW1lIiwidXBsb2FkZWRJbWFnZVR5cGUiLCJ1cGxvYWRlZEltYWdlVVJMIiwidG9vbHRpcCIsIm9uIiwicmVhZHkiLCJ0eXBlIiwiY3JvcHN0YXJ0IiwiYWN0aW9uIiwiY3JvcG1vdmUiLCJjcm9wZW5kIiwiem9vbSIsInJhdGlvIiwiY3JvcHBlciIsImlzRnVuY3Rpb24iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJnZXRDb250ZXh0IiwicHJvcCIsInN0eWxlIiwidHJhbnNpdGlvbiIsImRvd25sb2FkIiwiYWRkQ2xhc3MiLCIkdGhpcyIsIm5hbWUiLCJjcm9wQm94RGF0YSIsImNhbnZhc0RhdGEiLCJkYXRhIiwiY3JvcHBlZCIsIiR0YXJnZXQiLCJyZXN1bHQiLCJoYXNDbGFzcyIsIm1ldGhvZCIsImV4dGVuZCIsInRhcmdldCIsIm9wdGlvbiIsIkpTT04iLCJwYXJzZSIsIm1lc3NhZ2UiLCJ2aWV3TW9kZSIsImZpbGxDb2xvciIsInNlY29uZE9wdGlvbiIsIm1vZGFsIiwiZmluZCIsImh0bWwiLCJ0b0RhdGFVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJpc1BsYWluT2JqZWN0Iiwic3RyaW5naWZ5IiwiYm9keSIsInNjcm9sbFRvcCIsIndoaWNoIiwicHJldmVudERlZmF1bHQiLCIkaW5wdXRJbWFnZSIsImNoYW5nZSIsImZpbGVzIiwiZmlsZSIsImxlbmd0aCIsInRlc3QiLCJjcmVhdGVPYmplY3RVUkwiLCJhbGVydCIsInBhcmVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWxlbWVudCIsImNsaWNrIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBQSxDQUFDLENBQUMsWUFBWTtBQUNWOztBQUVBLE1BQUlDLE9BQU8sR0FBR0MsTUFBTSxDQUFDRCxPQUFQLElBQWtCO0FBQUVFLElBQUFBLEdBQUcsRUFBRSxlQUFZLENBQUc7QUFBdEIsR0FBaEM7QUFDQSxNQUFJQyxHQUFHLEdBQUdGLE1BQU0sQ0FBQ0UsR0FBUCxJQUFjRixNQUFNLENBQUNHLFNBQS9CO0FBQ0EsTUFBSUMsTUFBTSxHQUFHTixDQUFDLENBQUMsUUFBRCxDQUFkO0FBQ0EsTUFBSU8sU0FBUyxHQUFHUCxDQUFDLENBQUMsV0FBRCxDQUFqQjtBQUNBLE1BQUlRLE1BQU0sR0FBR1IsQ0FBQyxDQUFDLFFBQUQsQ0FBZDtBQUNBLE1BQUlTLE1BQU0sR0FBR1QsQ0FBQyxDQUFDLFFBQUQsQ0FBZDtBQUNBLE1BQUlVLFdBQVcsR0FBR1YsQ0FBQyxDQUFDLGFBQUQsQ0FBbkI7QUFDQSxNQUFJVyxVQUFVLEdBQUdYLENBQUMsQ0FBQyxZQUFELENBQWxCO0FBQ0EsTUFBSVksV0FBVyxHQUFHWixDQUFDLENBQUMsYUFBRCxDQUFuQjtBQUNBLE1BQUlhLFdBQVcsR0FBR2IsQ0FBQyxDQUFDLGFBQUQsQ0FBbkI7QUFDQSxNQUFJYyxXQUFXLEdBQUdkLENBQUMsQ0FBQyxhQUFELENBQW5CO0FBQ0EsTUFBSWUsT0FBTyxHQUFHO0FBQ1ZDLElBQUFBLFdBQVcsRUFBRSxLQUFLLENBRFI7QUFFVkMsSUFBQUEsT0FB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QUFDbkMsSUFBWixDQUFpQixVQUFqQixFQUE2QixJQUE3QixFQUFtQzJDLE1BQW5DLEdBQTRDdkMsUUFBNUMsQ0FBcUQsVUFBckQ7QUFDSDs7QUFHRFAsRUFBQUEsUUFBUSxDQUFDK0MsZ0JBQVQsQ0FBMEIscUJBQTFCLEVBQWlEQyxPQUFqRCxDQUF5RCxVQUFTQyxPQUFULEVBQWlCO0FBQ3RFQSxJQUFBQSxPQUFPLENBQUNDLEtBQVI7QUFDSCxHQUZELEVBdlFVLENBNFFWO0FBRUgsQ0E5UUEsQ0FBRCIsInNvdXJjZXNDb250ZW50IjpbIi8qXG5UZW1wbGF0ZSBOYW1lOiBVYm9sZCAtIFJlc3BvbnNpdmUgQm9vdHN0cmFwIDQgQWRtaW4gRGFzaGJvYXJkXG5BdXRob3I6IENvZGVyVGhlbWVzXG5XZWJzaXRlOiBodHRwczovL2NvZGVydGhlbWVzLmNvbS9cbkNvbnRhY3Q6IHN1cHBvcnRAY29kZXJ0aGVtZXMuY29tXG5GaWxlOiBJbWFnZSBjcm9wIGluaXQganNcbiovXG5cbiQoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBjb25zb2xlID0gd2luZG93LmNvbnNvbGUgfHwgeyBsb2c6IGZ1bmN0aW9uICgpIHsgfSB9O1xuICAgIHZhciBVUkwgPSB3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkw7XG4gICAgdmFyICRpbWFnZSA9ICQoJyNpbWFnZScpO1xuICAgIHZhciAkZG93bmxvYWQgPSAkKCcjZG93bmxvYWQnKTtcbiAgICB2YXIgJGRhdGFYID0gJCgnI2RhdGFYJyk7XG4gICAgdmFyICRkYXRhWSA9ICQoJyNkYXRhWScpO1xuICAgIHZhciAkZGF0YUhlaWdodCA9ICQoJyNkYXRhSGVpZ2h0Jyk7XG4gICAgdmFyICRkYXRhV2lkdGggPSAkKCcjZGF0YVdpZHRoJyk7XG4gICAgdmFyICRkYXRhUm90YXRlID0gJCgnI2RhdGFSb3RhdGUnKTtcbiAgICB2YXIgJGRhdGFTY2FsZVggPSAkKCcjZGF0YVNjYWxlWCcpO1xuICAgIHZhciAkZGF0YVNjYWxlWSA9ICQoJyNkYXRhU2NhbGVZJyk7XG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgIGFzcGVjdFJhdGlvOiAxNiAvIDksXG4gICAgICAgIHByZXZpZXc6ICcuaW1nLXByZXZpZXcnLFxuICAgICAgICBjcm9wOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgJGRhdGFYLnZhbChNYXRoLnJvdW5kKGUuZGV0YWlsLngpKTtcbiAgICAgICAgICAgICRkYXRhWS52YWwoTWF0aC5yb3VuZChlLmRldGFpbC55KSk7XG4gICAgICAgICAgICAkZGF0YUhlaWdodC52YWwoTWF0aC5yb3VuZChlLmRldGFpbC5oZWlnaHQpKTtcbiAgICAgICAgICAgICRkYXRhV2lkdGgudmFsKE1hdGgucm91bmQoZS5kZXRhaWwud2lkdGgpKTtcbiAgICAgICAgICAgICRkYXRhUm90YXRlLnZhbChlLmRldGFpbC5yb3RhdGUpO1xuICAgICAgICAgICAgJGRhdGFTY2FsZVgudmFsKGUuZGV0YWlsLnNjYWxlWCk7XG4gICAgICAgICAgICAkZGF0YVNjYWxlWS52YWwoZS5kZXRhaWwuc2NhbGVZKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIG9yaWdpbmFsSW1hZ2VVUkwgPSAkaW1hZ2UuYXR0cignc3JjJyk7XG4gICAgdmFyIHVwbG9hZGVkSW1hZ2VOYW1lID0gJ2Nyb3BwZWQuanBnJztcbiAgICB2YXIgdXBsb2FkZWRJbWFnZVR5cGUgPSAnaW1hZ2UvanBlZyc7XG4gICAgdmFyIHVwbG9hZGVkSW1hZ2VVUkw7XG5cbiAgICAvLyBUb29sdGlwXG4gICAgJCgnW2RhdGEtYnMtdG9nZ2xlPVwidG9vbHRpcFwiXScpLnRvb2x0aXAoKTtcblxuICAgIC8vIENyb3BwZXJcbiAgICAkaW1hZ2Uub24oe1xuICAgICAgICByZWFkeTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUudHlwZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNyb3BzdGFydDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUudHlwZSwgZS5kZXRhaWwuYWN0aW9uKTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JvcG1vdmU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlLnR5cGUsIGUuZGV0YWlsLmFjdGlvbik7XG4gICAgICAgIH0sXG4gICAgICAgIGNyb3BlbmQ6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlLnR5cGUsIGUuZGV0YWlsLmFjdGlvbik7XG4gICAgICAgIH0sXG4gICAgICAgIGNyb3A6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlLnR5cGUpO1xuICAgICAgICB9LFxuICAgICAgICB6b29tOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZS50eXBlLCBlLmRldGFpbC5yYXRpbyk7XG4gICAgICAgIH1cbiAgICB9KS5jcm9wcGVyKG9wdGlvbnMpO1xuXG4gICAgLy8gQnV0dG9uc1xuICAgIGlmICghJC5pc0Z1bmN0aW9uKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLmdldENvbnRleHQpKSB7XG4gICAgICAgICQoJ2J1dHRvbltkYXRhLW1ldGhvZD1cImdldENyb3BwZWRDYW52YXNcIl0nKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY3JvcHBlcicpLnN0eWxlLnRyYW5zaXRpb24gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICQoJ2J1dHRvbltkYXRhLW1ldGhvZD1cInJvdGF0ZVwiXScpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgICQoJ2J1dHRvbltkYXRhLW1ldGhvZD1cInNjYWxlXCJdJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvLyBEb3dubG9hZFxuICAgIGlmICh0eXBlb2YgJGRvd25sb2FkWzBdLmRvd25sb2FkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAkZG93bmxvYWQuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgfVxuXG4gICAgLy8gT3B0aW9uc1xuICAgICQoJy5kb2NzLXRvZ2dsZXMnKS5vbignY2hhbmdlJywgJ2lucHV0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICB2YXIgbmFtZSA9ICR0aGlzLmF0dHIoJ25hbWUnKTtcbiAgICAgICAgdmFyIHR5cGUgPSAkdGhpcy5wcm9wKCd0eXBlJyk7XG4gICAgICAgIHZhciBjcm9wQm94RGF0YTtcbiAgICAgICAgdmFyIGNhbnZhc0RhdGE7XG5cbiAgICAgICAgaWYgKCEkaW1hZ2UuZGF0YSgnY3JvcHBlcicpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZSA9PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgICBvcHRpb25zW25hbWVdID0gJHRoaXMucHJvcCgnY2hlY2tlZCcpO1xuICAgICAgICAgICAgY3JvcEJveERhdGEgPSAkaW1hZ2UuY3JvcHBlcignZ2V0Q3JvcEJveERhdGEnKTtcbiAgICAgICAgICAgIGNhbnZhc0RhdGEgPSAkaW1hZ2UuY3JvcHBlcignZ2V0Q2FudmFzRGF0YScpO1xuXG4gICAgICAgICAgICBvcHRpb25zLnJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICRpbWFnZS5jcm9wcGVyKCdzZXRDcm9wQm94RGF0YScsIGNyb3BCb3hEYXRhKTtcbiAgICAgICAgICAgICAgICAkaW1hZ2UuY3JvcHBlcignc2V0Q2FudmFzRGF0YScsIGNhbnZhc0RhdGEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICdyYWRpbycpIHtcbiAgICAgICAgICAgIG9wdGlvbnNbbmFtZV0gPSAkdGhpcy52YWwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRpbWFnZS5jcm9wcGVyKCdkZXN0cm95JykuY3JvcHBlcihvcHRpb25zKTtcbiAgICB9KTtcblxuICAgIC8vIE1ldGhvZHNcbiAgICAkKCcuZG9jcy1idXR0b25zJykub24oJ2NsaWNrJywgJ1tkYXRhLW1ldGhvZF0nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgIHZhciBkYXRhID0gJHRoaXMuZGF0YSgpO1xuICAgICAgICB2YXIgY3JvcHBlciA9ICRpbWFnZS5kYXRhKCdjcm9wcGVyJyk7XG4gICAgICAgIHZhciBjcm9wcGVkO1xuICAgICAgICB2YXIgJHRhcmdldDtcbiAgICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgICBpZiAoJHRoaXMucHJvcCgnZGlzYWJsZWQnKSB8fCAkdGhpcy5oYXNDbGFzcygnZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNyb3BwZXIgJiYgZGF0YS5tZXRob2QpIHtcbiAgICAgICAgICAgIGRhdGEgPSAkLmV4dGVuZCh7fSwgZGF0YSk7IC8vIENsb25lIGEgbmV3IG9uZVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEudGFyZ2V0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICR0YXJnZXQgPSAkKGRhdGEudGFyZ2V0KTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YS5vcHRpb24gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLm9wdGlvbiA9IEpTT04ucGFyc2UoJHRhcmdldC52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNyb3BwZWQgPSBjcm9wcGVyLmNyb3BwZWQ7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoZGF0YS5tZXRob2QpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdyb3RhdGUnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoY3JvcHBlZCAmJiBvcHRpb25zLnZpZXdNb2RlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGltYWdlLmNyb3BwZXIoJ2NsZWFyJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJ2dldENyb3BwZWRDYW52YXMnOlxuICAgICAgICAgICAgICAgICAgICBpZiAodXBsb2FkZWRJbWFnZVR5cGUgPT09ICdpbWFnZS9qcGVnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLm9wdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEub3B0aW9uID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEub3B0aW9uLmZpbGxDb2xvciA9ICcjZmZmJztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXN1bHQgPSAkaW1hZ2UuY3JvcHBlcihkYXRhLm1ldGhvZCwgZGF0YS5vcHRpb24sIGRhdGEuc2Vjb25kT3B0aW9uKTtcblxuICAgICAgICAgICAgc3dpdGNoIChkYXRhLm1ldGhvZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3JvdGF0ZSc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChjcm9wcGVkICYmIG9wdGlvbnMudmlld01vZGUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkaW1hZ2UuY3JvcHBlcignY3JvcCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdzY2FsZVgnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3NjYWxlWSc6XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuZGF0YSgnb3B0aW9uJywgLWRhdGEub3B0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdnZXRDcm9wcGVkQ2FudmFzJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQm9vdHN0cmFwJ3MgTW9kYWxcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNnZXRDcm9wcGVkQ2FudmFzTW9kYWwnKS5tb2RhbCgpLmZpbmQoJy5tb2RhbC1ib2R5JykuaHRtbChyZXN1bHQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISRkb3dubG9hZC5oYXNDbGFzcygnZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkLmRvd25sb2FkID0gdXBsb2FkZWRJbWFnZU5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGRvd25sb2FkLmF0dHIoJ2hyZWYnLCByZXN1bHQudG9EYXRhVVJMKHVwbG9hZGVkSW1hZ2VUeXBlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJ2Rlc3Ryb3knOlxuICAgICAgICAgICAgICAgICAgICBpZiAodXBsb2FkZWRJbWFnZVVSTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cGxvYWRlZEltYWdlVVJMKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZGVkSW1hZ2VVUkwgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICRpbWFnZS5hdHRyKCdzcmMnLCBvcmlnaW5hbEltYWdlVVJMKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoJC5pc1BsYWluT2JqZWN0KHJlc3VsdCkgJiYgJHRhcmdldCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICR0YXJnZXQudmFsKEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEtleWJvYXJkXG4gICAgJChkb2N1bWVudC5ib2R5KS5vbigna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChlLnRhcmdldCAhPT0gdGhpcyB8fCAhJGltYWdlLmRhdGEoJ2Nyb3BwZXInKSB8fCB0aGlzLnNjcm9sbFRvcCA+IDMwMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChlLndoaWNoKSB7XG4gICAgICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAkaW1hZ2UuY3JvcHBlcignbW92ZScsIC0xLCAwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgJGltYWdlLmNyb3BwZXIoJ21vdmUnLCAwLCAtMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMzk6XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICRpbWFnZS5jcm9wcGVyKCdtb3ZlJywgMSwgMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICRpbWFnZS5jcm9wcGVyKCdtb3ZlJywgMCwgMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEltcG9ydCBpbWFnZVxuICAgIHZhciAkaW5wdXRJbWFnZSA9ICQoJyNpbnB1dEltYWdlJyk7XG5cbiAgICBpZiAoVVJMKSB7XG4gICAgICAgICRpbnB1dEltYWdlLmNoYW5nZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZmlsZXMgPSB0aGlzLmZpbGVzO1xuICAgICAgICAgICAgdmFyIGZpbGU7XG5cbiAgICAgICAgICAgIGlmICghJGltYWdlLmRhdGEoJ2Nyb3BwZXInKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZpbGVzICYmIGZpbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGZpbGUgPSBmaWxlc1swXTtcblxuICAgICAgICAgICAgICAgIGlmICgvXmltYWdlXFwvXFx3KyQvLnRlc3QoZmlsZS50eXBlKSkge1xuICAgICAgICAgICAgICAgICAgICB1cGxvYWRlZEltYWdlTmFtZSA9IGZpbGUubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdXBsb2FkZWRJbWFnZVR5cGUgPSBmaWxlLnR5cGU7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHVwbG9hZGVkSW1hZ2VVUkwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXBsb2FkZWRJbWFnZVVSTCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB1cGxvYWRlZEltYWdlVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgJGltYWdlLmNyb3BwZXIoJ2Rlc3Ryb3knKS5hdHRyKCdzcmMnLCB1cGxvYWRlZEltYWdlVVJMKS5jcm9wcGVyKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAkaW5wdXRJbWFnZS52YWwoJycpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hbGVydCgnUGxlYXNlIGNob29zZSBhbiBpbWFnZSBmaWxlLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgJGlucHV0SW1hZ2UucHJvcCgnZGlzYWJsZWQnLCB0cnVlKS5wYXJlbnQoKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICB9XG5cblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kb2NzLW9wdGlvbnMgaW5wdXQnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpe1xuICAgICAgICBlbGVtZW50LmNsaWNrKCk7XG4gICAgfSk7XG5cblxuICAgIC8vICQoJycpLnRyaWdnZXIoIFwiY2xpY2tcIiApO1xuXG59KTsiXSwiZmlsZSI6Ii4vcmVzb3VyY2VzL2pzL3BhZ2VzL2Zvcm0taW1hZ2Vjcm9wLmluaXQuanMuanMiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./resources/js/pages/form-imagecrop.init.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./resources/js/pages/form-imagecrop.init.js"]();
/******/ 	
/******/ })()
;